[{"difficulty": "medium", "notes": "Interesting cyclic nature of numbers when represented with factors of 3 removed.", "tags": "#primes#cycles", "sonl": "See solution with latex.", "topic": "Number Theory", "source": "2007 MOSP Tests Edited by Zuming Feng, Practice Test 8, Problem 1", "stnl": "Let p be a prime greater than 3. Prove that there exist integers a1, a2, ... , an with -p/2 < a1 < a2 < ... < an < p/2 such that (p-a1)(p-a2)...(p-an) / |a1 a2 ... an| is a perfect power of 3.", "sowl": "The ordering of the $a_i$ is unimportant, as we can just re-label at the end, so drop this condition (we just need the $a_i$ to be distinct and within the given range). Since $p > 3$ is prime, either $3 \\mid p+1$ or $3 \\mid p-1$. In the first case, set $b_1 = -1$ and in the second case set $b_1 = 1$. For $i \\ge 1$, construct $b_{i+1}$ as follows, having constructed $b_i$ such that $3 \\nmid b_i$, $3 \\mid p-b_i$, and $-\\frac{p}{2} < b_i < \\frac{p}{2}$. \\\\\n\nLet $c_i$ be such that $3^{d_i} c_i = p - b_i$, where $v_3(p-b_i) = d_i$ (i.e. $3 \\nmid c_i$). $d_i \\ge 1$ and $\\frac{p}{2} < p - b_i < \\frac{3p}{2}$ so $0 < c_i < \\frac{p}{2}$. As $3 \\nmid c_i$, either $3 \\mid p + c_i$ or $3 \\mid p - c_i$ (like above). In the first case, set $b_{i+1} = -c_i$ and in the second case set $b_{i+1} = c_i$. (From the way $b_1$ was defined, $c_0 = 1$.) \\\\\n\nHaving constructed the $b_i$ in this way, there will exist some smallest $j \\ge 2$ such that $b_j = b_k$ for some $k < j$ (i.e. we will enter a cycle, possibly pure), since all $b_i$ are drawn from the finite set $\\{-\\frac{p-1}{2}, -\\frac{p-3}{2}, \\ldots, \\frac{p-3}{2}, \\frac{p-1}{2}\\}$. Set $a_1 = b_k, a_2 = b_{k+1}, \\ldots, a_{j-k} = b_{j-1}$. By minimality of $j$, these $a_i$ are distinct, lie in the range, and give the above product as:\n\\begin{align*}\n\\frac{(p-a_1)(p-a_2)\\cdots (p-a_n)}{|a_1 a_2 \\cdots a_n|} &= \\frac{3^{d_{k}} c_{k}}{c_{k-1}} \\cdot \\frac{3^{d_{k+1}}c_{k+1}}{c_k} \\cdot \\text{ } \\cdots \\text{ } \\cdot \\frac{3^{d_{j-1}}c_{j-1}}{c_{j-2}} \\\\\n&= \\frac{3^{d_k + d_{k+1} + \\cdots + d_{j-1}}c_{j-1}}{c_{k-1}} \\\\\n&= \\frac{3^{d_k + d_{k+1} + \\cdots + d_{j-1}}c_{k-1}}{c_{k-1}} \\\\\n&= 3^{d_k + d_{k+1} + \\cdots + d_{j-1}}\n\\end{align*}\n\nSo this choice of $a_i$s satisfies all conditions.", "date": "10/23/2017", "stwl": "Let $p$ be a prime greater than $3$. Prove that there exist integers $a_1, a_2, \\ldots, a_n$ with\n\\[-\\frac{p}{2} < a_1 < a_2 < \\cdots < a_n < \\frac{p}{2}\\]\nsuch that \n\\[\\frac{(p-a_1)(p-a_2)\\cdots (p-a_n)}{|a_1 a_2 \\cdots a_n|}\\]\nis a perfect power of $3$.", "id": 0}, {"difficulty": "hard", "notes": "The case with k = (n-1)/2 was difficult for me to analyze and seemed overly technical. Not enjoyable.", "tags": "#induction#lexicographic ordering", "sonl": "See solution with latex.", "topic": "Combinatorics", "source": "2007 MOSP Tests Edited by Zuming Feng, Practice Test 2, Problem 3", "stnl": "Let n and k be integers with 0 <= k < n/2. Initially, let A be the sequence of subsets of {1, 2,..., n} with exactly k elements, and B the sequence of subsets of {1, 2, ..., n} with exactly k+1 elements, both arranged in lexicographic (dictionary) order. Now let S be the first element in A. If there is a T in B such that S is contained in T, remove S from A and the first such T from B, and repeat this process as long as A is nonempty; otherwise, stop. Prove that this process terminates with A empty.", "sowl": "For $C \\in \\mathcal{P}([n])$ and $i \\in [n]$, define $g_i(C)$ to be the number of elements of $[n]$ contained in $C$ among $\\{n-i+1, n-i+2, \\ldots, n\\}$ minus the number of elements of $[n]$ not contained in $C$ among $\\{n-i+1, n-i+2, \\ldots, n\\}$. \\\\\n\nNow assume $C \\in \\binom{[n]}{k}$. Define $h: \\binom{[n]}{k} \\to \\binom{[n]}{k+1}$ by setting $h(C)$ to the union of $C$ and the largest $i' \\in [n]$ such that $g_{i'}(C) = \\min_{i \\in [n]} g_i(C)$. This is well-defined (i.e. $i' \\not \\in C$) since if the minimum is attained at $m = g_{i'}(C)$ where $i' \\in C$ and $i' < n$, then $g_{{i'}+1}(C) = m-1$, a contradiction. If the minimum is attained at $i' = n$ with $n \\in C$, then the minimum is $m = g_n(C) = 1$, a contradiction since $g_1(C) \\le -1 < 1$. \\\\\n\nDefine $f: \\binom{[n]}{k} \\to \\binom{[n]}{k+1}$ to be such that $f(C) = D$ where $D$ is the set removed from $\\binom{[n]}{k+1}$ in the operation from the problem, if possible. Otherwise, make $f(C)$ undefined. We claim that $f$ is always defined and furthermore, we claim that $f(C) = h(C)$, which we prove by induction on $C$ under the lexicographic ordering of $\\binom{[n]}{k}$. As a base case, $f([k]) = [k+1]$ while the minimum of $g_i([k])$ is attained solely at $i = k+1$ with $g_{k+1}([k]) = -(n-k)$ so $h([k]) = [k+1]$. \\\\\n\nNow consider arbitrary $C \\in \\binom{[n]}{k}$ and assume that for all $D \\in \\binom{[n]}{k}$ with $D < C$, $f(D)$ is well-defined and equal to $h(D)$. Assume that the largest index where the minimum value of $g_i(C)$ occurs is at $r$ with $g_r(C) = m$. As proven above, $r \\not \\in C$ so we claim that $f(C) = C \\cup \\{r\\}$. \\\\\n\n\n\\begin{theorem}\n$C \\cup \\{r\\}$ is available in sequence $B$ under the operation described in the problem when we reach $C$ in sequence $A$.\n\\end{theorem}\n\n\\begin{proof}\nIf $C \\cup \\{r\\}$ were not available at this point, then $f(D) = C \\cup \\{r\\}$ for some $D < C$. Since $C \\cup \\{r\\}$ must also be attained from $D$ by adding some element, $D$ is of the form $(C \\cup \\{r\\}) \\setminus \\{j\\}$ for some $j > r$ with $j \\in C$. Notice that for $i \\le r$ and $i > j$, $g_i(C) = g_i((C \\cup \\{r\\}) \\setminus \\{j\\})$ while for $r < i \\le j$, $g_i((C \\cup \\{r\\}) \\setminus \\{j\\}) = g_i(C) - 2$. \\\\\n\nLet $m = \\min_{i \\in [n]} g_i(C)$ and $m' = \\min_{i \\in [n]} g_i((C \\cup \\{r\\}) \\setminus \\{j\\})$. By definition of $j$, $m' = g_j((C \\cup \\{r\\}) \\setminus \\{j\\}) = g_j(C) - 2 \\ge (m+1) - 2 = m-1$. Meanwhile, $m' \\le g_{r+1}((C \\cup \\{r\\}) \\setminus \\{j\\}) = g_r((C \\cup \\{r\\}) \\setminus \\{j\\}) - 1 = g_r(C) - 1 = m-1$. Thus $m' = m-1$. \\\\\n\nThen $m-1 = g_j((C \\cup \\{r\\}) \\setminus \\{j\\}) = g_j(C) - 2$. Since $j \\in C$, if $j \\neq n$, then $g_{j+1}(C) = g_j(C) - 1 = m$, contradicting the fact that the largest index for which $m$ is attained by $g_i(C)$ is at $i = r < j$. Otherwise, $j = n$ and $m' = -1$, so that $m = 0$, again a contradiction since $g_1(C) \\le -1$.\\\\\n\\end{proof}\n\n\n\\begin{theorem}\nFor all $s < r$ with $s \\not \\in C$, $C \\cup \\{s\\}$ is unavailable in sequence $B$ under the operation described in the problem when we reach $C$ in sequence $A$.\n\\end{theorem}\n\n\\begin{proof}\nWe will show that for each such $C \\cup \\{s\\}$, there exists $D < C$  such that $f(D) = C \\cup \\{s\\}$. Let $m'' = min_{i \\in [n]} g_i(C \\cup \\{s\\})$ and let $j$ be the smallest index at which $m''$ is attained. Since $s < r$, for $i > s$, $g_i(C) = g_i(C \\cup \\{s\\})$. In particular, for $i > r$, $g_i(C \\cup \\{s\\}) > m$ and $g_r(C \\cup \\{s\\}) = m$. Thus $m'' \\le m$ and $m''$ is attained last at some $t \\le r$. Since $g_i(C) = g_i(C \\cup \\{s\\})$ for $i > s$ and $s < r$, $\\max_{i \\in \\{s+1, \\ldots, n\\}} g_i(C) = m$. Since $g_i(C \\cup \\{s\\}) = g_i(C) + 2$ for $i \\le s$, it follows that $m'' = m$. Thus, since $g_i(C) \\ge m$ always, $g_1(C \\cup \\{s\\}) \\ge m + 2 = m'' + 2 > m''$, i.e. $t > 1$. \\\\\n\n\nWe then claim that $t-1 \\in C \\cup \\{s\\}$, $t -1 \\neq s$, $(C \\cup \\{s\\}) \\setminus \\{t-1\\} < C$ and that $f((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = C \\cup \\{s\\}$. \\\\\n\nFirst, since $m'' = m$ is minimal and attained at $i = t$, $g_{t-1}(C \\cup \\{s\\}) = 1 + g_t(C \\cup \\{s\\})$, implying that $t-1 \\in C \\cup \\{s\\}$ (since $g_i$ increases by $1$ from $t$ to $t-1$ rather than decreasing by $1$). Since $m'' = m$, $t > s$. Furthermore, since $g_i(C \\cup \\{s\\}) \\ge m+2$ for $i \\le s$ and $g_t(C \\cup \\{s\\}) = t$, then $t-1 > s$ since $g_i$ only ever increases or decreases by $1$ between consecutive values of $i$. Since $t - 1 > s$, $(C \\cup \\{s\\}) \\setminus \\{t-1\\} < C$. \\\\\n\nFurther, $g_i((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = g_i(C) \\ge m$ for $i > t$. Then $g_{t-1}((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = m - 1$ and $g_i((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = g_i(C) - 2 \\ge (m+1) - 2 = m-1$ for $s < i \\le t-1$. For $i \\le s$, $g_i((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = g_i(C) \\ge m$. Thus, $\\min_{i \\in [n]}g_i((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = m-1$ and the largest index at which it is attained is $t-1$. Thus, by the induction hypothesis, $f((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = h((C \\cup \\{s\\}) \\setminus \\{t-1\\}) = C \\cup \\{s\\}$. \\\\\n\nMeanwhile, $g_t((C \\cup \\{s\\}) \\setminus \\{t\\}) = g_i(C) - 2$ for  using the induction hypothesis, $f((C \\cup \\{s\\}) \\setminus \\{t\\})$.\n\n\\end{proof}\n\n\nLemmas $1$ and $2$ together imply that $f(C) = C \\cup \\{r\\}$, completing the induction. \\\\", "date": "10/29/2017", "stwl": "Let $n$ and $k$ be integers with $0 \\le k < \\frac{n}{2}$. Initially, let $A$ be the sequence of subsets of $\\{1, 2, \\ldots, n\\}$ with exactly $k$ elements, and $B$ the sequence of subsets of $\\{1, 2, \\ldots , n\\}$ with exactly $k + 1$ elements, both arranged in lexicographic (dictionary) order. Now let $S$ be the first element in $A$. If there is a $T$ in $B$ such that $S \\subseteq T$, remove $S$ from $A$ and the first such\n$T$ from $B$, and repeat this process as long as $A$ is nonempty; otherwise, stop. Prove that this process terminates with $A$ empty.", "id": 1}, {"difficulty": "no rank", "notes": "Tale", "tags": "", "sonl": "", "topic": "", "source": "", "stnl": "", "sowl": "", "date": "", "stwl": "", "id": 2}]